
Составим упрощенное техническое задание на разработку учебной автоматизированной системы согласно ГОСТ 19 серии. 

### Сокращения


- ЕССОД - единая система сбора и обработки данных
- МКА - малый космический аппарат
- МФ АС - многофункциональная автоматизированная система
- НПС - наземная приемная станция
- ПОД - прием и обработка данных
- СПО - специальное программное обеспечение
- ЦОС - цифровая обработка сигналов
- ЦУП - центр управления полетами


### 1. Введение 

#### 1.1.  Наименование АС 

Многофункциональная автоматизированная система приема и обработки данных от малых космических аппаратов, сокращенно **"МФ АС ПОД МКА"**. 
Шифр темы -  **"Невод"**.

#### 1.2. Краткая характеристика области применения

**МФ АС "Невод"** - учебная автоматизированная система, позволяющая принимать и обрабатывать радиосигналы малых космических аппаратов. 


Аппаратная часть АС основывается на применении общедоступных приемников типа **SDR (Software-defined radio)** в сочетании с различными видами антенных систем и поворотных устройств.


Специальное программное обеспечение (СПО) из состава МФ АС позволяет осуществлять прием, 
операции цифровой обработки и демодуляции сигналов для получения полезной информации (телеметрия, снимки с метеоспутников). 


МФ АС "Невод" должна состоять из 2-х частей:

1. СПО наземной приемной станции (НПС)

    Отвечает за настройку и работоспособность аппаратной части станции, получению и первичной обработки данных. Осуществляет контроль и диагностику аппаратуры, входящей в состав станции.
    Имеет несколько режимов работы:    
     
    - потоковая передача данных;
    - запись и воспроизведение сеанса вещания МКА;
    - демодуляция (при наличии достаточных вычислительных мощностей) полученных от МКА данных;
    - технологический (ручной) режим управления станцией;
    - удаленный контроль (со стороны ЦУП или ЕССОД);
    - режим диагностики работоспособности.

2. СПО единой системы сбора и обработки данных (ЕССОД)

    СПО отвечает за централизованный сбор данных от всех доступных НПС.
     
    Решает следующие задачи:

    -  получение от внешних источников данных **TLE** (аббр. от англ. Two-Line Element set, двухстрочный набор элементов)  и формирование для НПС планов сеансов вещания МКА;
    -  обработка и визуализация бинарного потока данных от НПС (телеметрия, полезные данные);
    -  ЦОС, спектральный анализ сигнала и демодуляция данных сеанса вещания МКА;
    -  послесеансовая обработка данных вещания МКА;
    -  передача данных во внешние системы - например SatNOGS и т.д.

### 2. Основания для разработки

Расширение инженерных практик и общедоступна образовательная деятельность

### 3.  Назначение разработки

#### 3.1. Функциональное назначение ПО

Назначением многофункциональной автоматизированной системы является прием, обработка и демодуляция радиосигналов от малых космических аппаратов. 
Полученная информация передается во внешние системы-потребители, а также выводится на графический интерфейс МФ АС в виде 
графиков, табличных представлений, спектрограмм и картографической проекции.
МФ АС может выступать мостом между ЦУП любой организации и общественной сети станций приема спутниковой информации.


#### 3.2. Эксплуатационное назначение ПО

МФ АС "Невод" предназначена для эксплуатации в учебных заведениях, радиолюбительских сообществах и домашних проектах.

### 4. Требования к программе и программному изделию

#### 4.1. Требования к функциональным характеристикам

МФ АС состоит из двух основных компонентов: клиентской и
серверной частей, между которыми должно быть налажено сетевое взаимодействие.

#### 4.1.1. Требования к серверной части (ЕССОД) МФ АС "Невод"

Архитектурные требования:

  - возможность приема и обработки данных от 100 000 и более наземных станций наблюдения;
  - возможность горизонтального масштабирования с учетом нагрузки;
  - слабая связанность между компонентами, возможность расширения функционала, добавлением новых компонентов.

В составе АС должны быть следующие подсистемы:

1. Подсистема планирования сеансов приема данных от МКА. 

    Должна иметь следующий функционал и задачи:

     - получение данных TLE от внешних источников;
     - ведение журнала активных НПС;
     - составление и централизованная рассылка планов сеансов приема МКА;
     - формирование сценариев настройки НПС для проведения сеанса приема сигнала МКА;
     - возможность получения информации о предстоящих сеансах через Telegram-бота;
     - картографическое отображение орбиты движения МКА.

2. Подсистема функционального контроля и диагностики наземных станций наблюдения.

    Должна иметь следующий функционал и задачи:

     - графическое отображение диагностической информации о работоспособности НПС;
     - база знаний с информацией о способах устранения неисправностей;
     - картографическое отображение расположения НПС;
     - статистика по НПС.

3.  Подсистема вывода информации об аппаратной и программной конфигурации НПС из состава сети станций.

4. Подсистем интеграции с внешними системами (ЦУП, SatNOGS)

5. Подсистема приема потока оцифрованного сигнала ("сырой" поток). 
Предназначена для возможности оценки специалистами качества приема сигнала МКА.

    Должна иметь следующий функционал и задачи:

      - прием и обработка данных;
      - графический вывод в формате спектра и водопада;
      - вывод основных характеристик полученного сигнала - частота, амплитуда, модуляция и т.д.. 

6. Подсистема обработки телеметрии.

    Должна поддерживать возможность декодирования данных телеметрии от различных МКА. 
Необходимо предусмотреть возможность расширения базы алгоритмов демодуляции телеметрии. 

7. Подсистема вторичной обработки информации.
     
    Должна иметь следующий функционал и задачи:

      - сеансовая и послесеансовая обработка сигналов МКА;
      - поддержка набора алгоритмов для демодуляции сигналов;
      - система хранения записей сигналов МКА:
      - ML-алгоритмы анализа сигналов

Для графического представления UI необходимо использовать web-технологии и любой из доступных браузеров : Mozilla Firefox, Chrome, Opera, Yandex Browser и т.д.

Запрещается использовать JavaScript - framework, только чистый код на JavaScript.

Серверная часть МФ АС "Невод" должна обеспечивать не менее 1000 одновременных подключений операторов.

С учетом возможности одновременного доступа несколькими операторами к МФ АС "Невод", 
требуется проработать механизм совместных сеансов и технических учетных записей, для управления НПС.

Для инсталяции и обновления МФ АС допускается использовать следующие, инструменты:

  - Установочные скрипты; 
  - Менеджер установок ОС Linux и deb, rpm-пакеты;
  - Использование CПО Docker.
 

#### 4.1.2. Требования к клиентской части (СПО НПС) МФ АС "Невод"

Архитектурные требования:

- Возможность вносить изменения в конфигурацию программ для различного состава аппаратуры станции без повторной компиляции СПО;
- Обеспечение отказоустойчивости, автоматического перезапуска и восстановления работоспособности СПО после сбоя.

В составе АС должны быть следующие подсистемы:

1. Подсистема контроля и диагностики аппаратуры и ПО из состава НПС.
    
    Должна иметь следующий функционал и задачи:

      - сбор информации о вычислительных ресурсах;
      - контроль работоспособности устройств;
      - сбор статистики потребления ресурсов и производительности;
      - подсистема восстановления работоспособности.

2. Подсистема настройки и управления аппаратурой. 
Обеспечивает выполнения сценариев автоматической настройки аппаратуры НПС для приема различных МКА.

3. Подсистема управления режимами работы НПС.

    Режимы:

      - удаленное управление (управление выполняется со стороны ЕССОД);
      - технологический режим.

4. Подсистема интеграции с ЕССОД.
Обеспечивает взаимодействие и управление НПС, согласно утвержденному протоколу информационно-логического сопряжения.

5. Подсистема визуализации (технологический режим):
      - графический вывод принятого сигнала в формате:
        + спектр;
        + водопад;
        + осциллограмма;
      - экранные формы ручного управления настройками аппаратуры.

6. Подсистема первичной обработки данных.

    Должна иметь следующий функционал и задачи:

      - получение и потоковая передача от приемника бинарных данных;
      - запись и воспроизведение сеанса вещания МКА;
      - демодуляция (при наличии достаточных вычислительных мощностей) полученных от МКА данных;
      - цифровая обработка сигнала - определение характеристик полученного сигнала - частота, амплитуда, модуляция и т.д (в технологическом режиме).
   
7. Подсистема логирования работы системы и действий пользователя.

#### 4.1.3. Требование к взаимодействию клиентской и серверной частей МФ АС "Невод"

Взаимодействие между серверной (ЕССОД) и клиентской(НПС) частями должны быть организованы по средствам:

- бинарных протоколов взаимодействия (транснпорт tcp, udp,quic) 
- gRPC
- брокеры сообщений (NATS,RabbitMQ и т.д)

Архитектура REST (JSON через HTTP) и обмен сообщениями в формате SOAP (XML поверх SOAP через HTTP) запрещены для организации взаимодействия между ЕССОД и НПС.

Допускается реализации архитектуры REST для подсистемы визуализации технологического режима в НПС.


#### 4.2 Требования к надёжности 

#### 4.2.1. Требования к обеспечению надежного (устойчивого) функционирования программы

Требования не предъявляются

#### 4.2.2. Время восстановления после отказа

Время восстановления после отказа, вызванного сбоем электропитания технических средств (иными внешними факторами), 
не фатальным сбоем (не крахом) операционной системы, не должно превышать времени, необходимого на перезагрузку операционной системы и запуск программы,
при условии соблюдения условий эксплуатации технических и программных средств.

Время восстановления после отказа, вызванного неисправностью технических средств, фатальным сбоем (крахом) операционной системы, 
не должно превышать времени, требуемого на устранение неисправностей технических средств и переустановки программных средств.

#### 4.2.3. Отказы из-за некорректных действий оператора

Требования не предъявляются

#### 4.3. Условия эксплуатации

#### 4.3.1. Климатические условия эксплуатации

Требования не предъявляются

#### 4.3.2. Требования к видам обслуживания

Требования не предъявляются

#### 4.3.3. Требования к численности и квалификации персонала

Требования не предъявляются  

#### 4.4 Требования к составу и параметрам технических средств

В состав технических средств НПС должны входить:

- персональная ЭВМ. Варианты замены: ноутбук, одноплатный мини-компьютер с ethernet и usb интерфейсами;
- Минимальные системные требования:
    + Количество ядер процессора - 2;
    + Архитектура процессора: х86_64, ARM;
    + Частота процессора - 1500 МГц;
    + Объем оперативной памяти - 1024 МБ;
    + Объем SSD (SD Card) - 128 Гб;
    + Скорость записи на носитель - мин 10MB/sec;
- антенная система:
    + всенаправленная антенная система диапазона 100 - 2000 МГц;
    + направленная антенна диапазона 100 - 2000 МГЦ с двухкоординатной антенно-поворотной платформой;
- приемник SDR (RTL-SDR v3, AirSpy, HackRF);
- МШУ.

В состав технических средств ЕССОД должны входить:

- Выделенный сервер;
- Единый с НПС сетевой контур, со скоростью обмена данными не ниже 10 Mbit/s.


#### 4.5 Требования к информационной и программной совместимости 

#### 4.5.1. Требования к информационным структурам и методам решения

Пользовательский интерфейс должен быть интуитивно понятным и содержать подсказки. 
Должна быть возможность выполнения операций записи сигнала МКА и сохранения полученного файла на внешний носитель.

### 4.5.2. Требования к исходным кодам и языкам программирования

Исходные коды программ из состава МФ АС "Невод" должны быть реализованы на следующих языках программирования:

  - Golang 
  - Python
  - C
  - JavaScript (без использования фреймворков - react, angular, vue и т.д.).

В качестве интегрированной среды разработки программы должна быть использована одна из сред: Goland, PyCharm, VS Code. 

#### 4.5.3. Требования к программным средствам, используемым МФ АС

МФ АС "Невод" должна функционировать под управлением одной из ОС семейства Linux: Ubuntu, Astra Linux, ALT Linux и т.д. 
Используемые библиотеки сторонних разработчиков должны иметь исходные коды.

#### 4.6 Требования к маркировке и упаковке

Требования не предъявляются  

#### 4.7 Требования к транспортированию и хранению

Требования не предъявляются  

#### 5 Требования к программной документации

#### 5.1. Предварительный состав программной документации

Состав программной документации должен включать в себя:

1. Техническое задание.
2. Пояснительная записка.
3. Описание применения.
4. Руководство системного программиста.
5. Руководство оператора.

#### 6 Технико-экономические показатели

Требования не предъявляются 

#### 7 Стадии и этапы разработки

#### 7.1. Стадии разработки

Разработка должна быть проведена в три стадии:

1. Разработка технического задания.
2. Рабочее проектирование.
3. Внедрение.

#### 7.2. Этапы разработки

На стадии разработки технического задания должен быть выполнен этап разработки, согласования и утверждения настоящего технического задания.

На стадии рабочего проектирования должны быть выполнены перечисленные ниже этапы работ:

1. Разработка программ из состава МФ АС.
2. Разработка программной документации.
3. Испытания МФ АС.

На стадии внедрения должен быть выполнен этап разработки - подготовка и передача программы в опытную эксплуатацию.

#### 8 Порядок контроля и приёмки

Требования не предъявляются  
